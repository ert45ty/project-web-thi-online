<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head th:replace="fragments::head('Môn thi')">
</head>
<body class="ec-header-fixed ec-sidebar-fixed ec-sidebar-dark ec-header-light" id="body">
<div class="wrapper">
  <div th:replace="fragments::sidebarCustomer('topics',${subjectList})"></div>
  <div class="ec-page-wrapper">
    <header th:replace="fragments::headerCustomer(${subjectList})"></header>
    <div class="ec-content-wrapper">
      <div class="content">
        <div class="col-12 d-none d-md-block" style="margin:0px;padding:0px;">
          <img src="/images/banner/thi-online_1.png" alt="" class="w-100" style="height:300px;">
        </div>
        </br>
        <div>
          <h1 th:text="'Môn ' + ${currentSubject.name}"  style="color: #0b5ed7"></h1>
        </div>
        </br>
        </hr>
        <div class="row ec_breadcrumb_inner mb-3 ml-2">
          <div class="col-md-6 col-sm-12">
            <h2 class="ec-breadcrumb-title">Tuyển chọn các đề thi theo chủ đề</h2>
          </div>
          <div th:replace="fragments::goToHome('subject')"></div>
          </div>
          <div class="row">
            <div class="col-12">
              <div class="ec-vendor-list card card-default">
                <div class="card-body">
                  <div class="col-md-12 text-center">
                    <ul class="ec-pro-tab-nav nav justify-content-center">
                      <li class="nav-item" th:each="subject, iterStat : ${subjectList}">
                        <a class="nav-link"
                           th:classappend="${subjectIndex == iterStat.index} ? 'active' : ''"
                           th:href="@{/subject(subject=${iterStat.index})}"
                           th:text="${subject.name}">
                        </a>
                      </li>
                    </ul>
                  </div>
                  <div>
                    <table id="responsive-data-table" class="table table-bordered text-center">
                      <thead>
                      <tr>
                        <th scope="col" class="text-left">Chủ đề</th>
                        <th scope="col">Số đề thi</th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr th:each="topic, iterStat : ${response.getContent()}">
                        <td class="text-left" >
                          <a th:text="${topic.name}" th:href="@{/subject/exam(topicId=${topic.id})}"/>
                        </td>
                        <td th:text="${(topic.exams == null && topic.exams.isEmpty()) ? '0' : topic.exams.size()}">
                        </td>
                      </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

              </div>
              <nav class="mt-3 mb-5" th:if="${response.getTotalPages() > 0}">
                <ul class="pagination justify-content-center">
                  <li th:if="${response.getPageable().getPageNumber() > 0}" class="page-item">
                    <a class="page-link"
                       th:href="@{/subject(subject=${subjectIndex}, topic=${topicIndex}, page=${response.getPageable().getPageNumber()}, perpage=${response.getSize()})}"
                    >
                      Trang trước
                    </a>
                  </li>
                  <li class="page-item" th:each="pageNo : ${#numbers.sequence(0, response.getTotalPages() - 1)}">
                    <a class="page-link" th:classappend="${response.getPageable().getPageNumber() == pageNo ? 'active-page' : ''}"
                       th:href="@{/subject(subject=${subjectIndex}, topic=${topicIndex}, page=${pageNo + 1}, perpage=${response.getSize()})}"
                       th:text="${pageNo + 1}"
                    >
                    </a>
                  </li>
                  <li th:if="${response.getPageable().getPageNumber() < (response.getTotalPages() - 1)}" class="page-item">
                    <a class="page-link"
                       th:href="@{/subject(subject=${subjectIndex}, topic=${topicIndex}, page=${response.getPageable().getPageNumber() + 2}, perpage=${response.getSize()})}">
                      Trang sau
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>

      </div>
    </div>

    <footer th:replace="fragments::footerCustomer()"></footer>
  </div>
</div>
</body>
</html>